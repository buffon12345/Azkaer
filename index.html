<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="fDrKBOfhJIlurJV5fuThDvxXVR7F2xuYX1vp5WX-Z8Y" />
    <title>مسبحة - الأذكار الكاملة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #9c27b0;
            --secondary: #6a1b9a;
            --accent: #e1bee7;
            --light: #f3e5f5;
            --dark: #4a148c;
            --success: #7b1fa2;
            --danger: #d81b60;
            --quran-green: #2E7D32;
            --prayer-blue: #2196F3;
            --radius: 20px;
            --shadow: 0 8px 25px rgba(156, 39, 176, 0.15);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            color: #4a148c;
            min-height: 100vh;
            padding-bottom: 120px;
        }
        
        /* الهيدر */
        .header {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: var(--shadow);
            margin-bottom: 1rem;
            position: relative;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 0.8rem;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: #ffccff;
        }
        
        .logo h1 {
            font-size: 2.2rem;
            font-weight: 800;
            color: white;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            color: #f3e5f5;
        }
        
        /* التبويبات */
        .tabs {
            display: flex;
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            margin: 0 20px 25px;
            box-shadow: var(--shadow);
            flex-wrap: wrap;
        }
        
        .tab {
            flex: 1;
            min-width: 110px;
            text-align: center;
            padding: 18px 5px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 700;
            border-bottom: 4px solid transparent;
            color: #7e57c2;
        }
        
        .tab.active {
            color: white;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-bottom: 4px solid #ffccff;
        }
        
        .tab i {
            display: block;
            margin-bottom: 10px;
            font-size: 1.5rem;
        }
        
        .tab:hover:not(.active) {
            background: rgba(156, 39, 176, 0.1);
            color: var(--primary);
        }
        
        /* المحتوى الرئيسي */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* قسم الأقسام */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .category-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            border-right: 6px solid var(--primary);
        }
        
        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(156, 39, 176, 0.2);
            border-right: 6px solid #ffccff;
        }
        
        .category-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .category-title {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        .category-count {
            font-size: 0.9rem;
            color: #7e57c2;
            font-weight: 600;
        }
        
        /* قسم عرض الأذكار */
        .azkar-display {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            display: none;
        }
        
        .display-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(156, 39, 176, 0.1);
        }
        
        .display-header h2 {
            font-size: 1.8rem;
            color: var(--secondary);
            font-weight: 800;
        }
        
        .back-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 15px;
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }
        
        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }
        
        .azkar-list {
            display: grid;
            gap: 25px;
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .zekr-item {
            background: rgba(156, 39, 176, 0.05);
            border-radius: var(--radius);
            padding: 25px;
            border-right: 5px solid var(--primary);
            transition: var(--transition);
            position: relative;
        }
        
        .zekr-item:hover {
            background: rgba(156, 39, 176, 0.1);
            transform: translateY(-3px);
        }
        
        .zekr-text {
            font-size: 1.4rem;
            line-height: 1.8;
            color: var(--dark);
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        .zekr-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid rgba(156, 39, 176, 0.1);
        }
        
        .zekr-count {
            font-size: 1.1rem;
            color: var(--primary);
            font-weight: 700;
            background: rgba(156, 39, 176, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .zekr-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 15px;
            padding: 10px 25px;
            cursor: pointer;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
        }
        
        .zekr-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }
        
        .zekr-btn.completed {
            background: linear-gradient(135deg, #7e57c2, #9575cd);
        }
        
        /* قسم التسبيح */
        .tasbeeh-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .tasbeeh-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .tasbeeh-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(156, 39, 176, 0.2);
        }
        
        .tasbeeh-title {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .tasbeeh-counter {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 25px;
        }
        
        .tasbeeh-actions {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }
        
        .tasbeeh-btn {
            flex: 1;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }
        
        .tasbeeh-btn:hover {
            transform: translateY(-3px);
        }
        
        .tasbeeh-btn.reset {
            background: linear-gradient(135deg, #d81b60, #ec407a);
        }
        
        /* قسم القرآن الكريم */
        .quran-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .quran-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .quran-select {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .select-label {
            font-size: 1.2rem;
            color: var(--secondary);
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .select-box {
            padding: 15px;
            border: 2px solid var(--quran-green);
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            background: white;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .select-box:hover {
            border-color: var(--primary);
            background: rgba(46, 125, 50, 0.05);
        }
        
        .quran-display {
            background: linear-gradient(135deg, rgba(46, 125, 50, 0.1), rgba(156, 39, 176, 0.05));
            border-radius: var(--radius);
            padding: 25px;
            margin: 25px 0;
            border: 2px solid rgba(46, 125, 50, 0.2);
        }
        
        .quran-info {
            font-size: 1.4rem;
            color: var(--quran-green);
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .quran-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .quran-btn {
            background: linear-gradient(135deg, var(--quran-green), #4CAF50);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            min-width: 200px;
            justify-content: center;
        }
        
        .quran-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(46, 125, 50, 0.3);
        }
        
        .quran-btn.secondary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        /* مواعيد الصلاة */
        .prayer-times {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        .prayer-time {
            text-align: center;
            padding: 15px 10px;
            border-radius: 15px;
            background: rgba(33, 150, 243, 0.1);
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .prayer-time.current {
            background: linear-gradient(135deg, var(--prayer-blue), #0D47A1);
            color: white;
            border-color: var(--prayer-blue);
            transform: scale(1.05);
        }
        
        .prayer-name {
            font-size: 1rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .prayer-hour {
            font-size: 1.4rem;
            font-weight: 800;
        }
        
        /* خطة الورد */
        .plan-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-top: 20px;
            margin-bottom: 30px;
        }
        
        .plan-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .plan-input {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .input-label {
            font-size: 1.2rem;
            color: var(--secondary);
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .input-box {
            padding: 15px;
            border: 2px solid var(--primary);
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            background: white;
            transition: var(--transition);
        }
        
        .plan-display {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(33, 150, 243, 0.05));
            border-radius: var(--radius);
            padding: 25px;
            margin: 25px 0;
            border: 2px solid rgba(156, 39, 176, 0.2);
            display: none;
        }
        
        .plan-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 15px;
            border: 2px solid rgba(156, 39, 176, 0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        /* الفوتر */
        footer {
            background: linear-gradient(135deg, var(--secondary), var(--dark));
            color: white;
            text-align: center;
            padding: 30px 20px;
            margin-top: 50px;
            border-radius: 30px 30px 0 0;
        }
        
        /* الموبايل */
        @media (max-width: 768px) {
            .tabs {
                overflow-x: auto;
                flex-wrap: nowrap;
            }
            
            .tab {
                min-width: 90px;
                padding: 15px 10px;
            }
            
            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .prayer-times {
                grid-template-columns: repeat(3, 1fr);
                margin: 0 15px 25px;
            }
            
            .quran-controls, .azkar-list {
                grid-template-columns: 1fr;
            }
            
            .tasbeeh-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quran-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .quran-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .zekr-text {
                font-size: 1.2rem;
            }
            
            .plan-form {
                grid-template-columns: 1fr;
            }
            
            .plan-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- الهيدر -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-mosque"></i>
            <h1>مسبحة - الأذكار الكاملة</h1>
        </div>
        <p class="subtitle">أذكار الصباح والمساء والنوم وبعد الصلاة والتسبيح والقرآن</p>
    </header>
    
    <!-- مواعيد الصلاة -->
    <div class="prayer-times" id="prayerTimes">
        <!-- سيتم تعبئتها بالجافاسكريبت -->
    </div>
    
    <!-- التبويبات -->
    <div class="tabs">
        <div class="tab active" onclick="openTab('categories')">
            <i class="fas fa-th-large"></i>
            <span>الأقسام</span>
        </div>
        <div class="tab" onclick="openTab('tasbeeh')">
            <i class="fas fa-pray"></i>
            <span>التسبيح</span>
        </div>
        <div class="tab" onclick="openTab('quran')">
            <i class="fas fa-quran"></i>
            <span>القرآن الكريم</span>
        </div>
        <div class="tab" onclick="openTab('progress')">
            <i class="fas fa-chart-line"></i>
            <span>تقدمي</span>
        </div>
    </div>
    
    <!-- المحتوى الرئيسي -->
    <div class="container">
        
        <!-- قسم الأقسام -->
        <div id="categories" class="tab-content active">
            <div class="categories-grid">
                <!-- أذكار الصباح -->
                <div class="category-card" onclick="openAzkar('morning')">
                    <div class="category-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                    <div class="category-title">أذكار الصباح</div>
                    <div class="category-count">15 ذكراً</div>
                </div>
                
                <!-- أذكار المساء -->
                <div class="category-card" onclick="openAzkar('evening')">
                    <div class="category-icon">
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="category-title">أذكار المساء</div>
                    <div class="category-count">15 ذكراً</div>
                </div>
                
                <!-- أذكار بعد الصلاة -->
                <div class="category-card" onclick="openAzkar('afterPrayer')">
                    <div class="category-icon">
                        <i class="fas fa-pray"></i>
                    </div>
                    <div class="category-title">أذكار بعد الصلاة</div>
                    <div class="category-count">10 أذكار</div>
                </div>
                
                <!-- أذكار النوم -->
                <div class="category-card" onclick="openAzkar('sleep')">
                    <div class="category-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="category-title">أذكار النوم</div>
                    <div class="category-count">8 أذكار</div>
                </div>
                
                <!-- أذكار عامة -->
                <div class="category-card" onclick="openAzkar('general')">
                    <div class="category-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="category-title">أذكار عامة</div>
                    <div class="category-count">12 ذكراً</div>
                </div>
                
                <!-- أذكار الاستيقاظ -->
                <div class="category-card" onclick="openAzkar('wakeup')">
                    <div class="category-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="category-title">أذكار الاستيقاظ</div>
                    <div class="category-count">6 أذكار</div>
                </div>
            </div>
        </div>
        
        <!-- قسم عرض الأذكار -->
        <div id="azkarDisplay" class="azkar-display">
            <div class="display-header">
                <h2 id="displayTitle">أذكار الصباح</h2>
                <button class="back-btn" onclick="closeAzkarDisplay()">
                    <i class="fas fa-arrow-right"></i>
                    العودة للأقسام
                </button>
            </div>
            
            <div class="azkar-list" id="azkarList">
                <!-- سيتم تعبئتها بالجافاسكريبت -->
            </div>
        </div>
        
        <!-- قسم التسبيح -->
        <div id="tasbeeh" class="tab-content">
            <div class="tasbeeh-container" id="tasbeehContainer">
                <!-- سيتم تعبئتها بالجافاسكريبت -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="quran-btn secondary" onclick="resetAllTasbeeh()">
                    <i class="fas fa-redo"></i>
                    تصفير جميع العدادات
                </button>
            </div>
        </div>
        
        <!-- قسم القرآن الكريم -->
        <div id="quran" class="tab-content">
            <div class="quran-section">
                <h2 style="color: var(--secondary); margin-bottom: 25px; font-size: 1.8rem;">
                    الورد اليومي من القرآن الكريم
                </h2>
                
                <div class="quran-controls">
                    <div class="quran-select">
                        <label class="select-label">اختر الجزء:</label>
                        <select class="select-box" id="partSelect" onchange="selectPart()">
                            <option value="1">الجزء 1 (الصفحات 1-20)</option>
                            <option value="2">الجزء 2 (الصفحات 21-40)</option>
                            <option value="3">الجزء 3 (الصفحات 41-60)</option>
                            <option value="4">الجزء 4 (الصفحات 61-80)</option>
                            <option value="5">الجزء 5 (الصفحات 81-100)</option>
                            <option value="6">الجزء 6 (الصفحات 101-120)</option>
                            <option value="7">الجزء 7 (الصفحات 121-140)</option>
                            <option value="8">الجزء 8 (الصفحات 141-160)</option>
                            <option value="9">الجزء 9 (الصفحات 161-180)</option>
                            <option value="10">الجزء 10 (الصفحات 181-200)</option>
                        </select>
                    </div>
                    
                    <div class="quran-select">
                        <label class="select-label">من صفحة:</label>
                        <input type="number" class="select-box" id="fromPage" min="1" max="604" value="1" 
                               onchange="updateSelection()">
                    </div>
                    
                    <div class="quran-select">
                        <label class="select-label">إلى صفحة:</label>
                        <input type="number" class="select-box" id="toPage" min="1" max="604" value="20">
                    </div>
                </div>
                
                <div class="quran-display">
                    <div class="quran-info" id="selectionInfo">
                        الجزء 1: من صفحة 1 إلى 20
                    </div>
                    <div style="font-size: 1.1rem; color: #666; margin-top: 10px;">
                        "إِنَّ هَٰذَا الْقُرْآنَ يَهْدِي لِلَّتِي هِيَ أَقْوَمُ"
                    </div>
                </div>
                
                <div class="quran-actions">
                    <button class="quran-btn" onclick="openQuranWebsite()">
                        <i class="fas fa-external-link-alt"></i>
                        فتح الورد اليومي
                    </button>
                    
                    <button class="quran-btn secondary" onclick="saveDailyWird()">
                        <i class="fas fa-bookmark"></i>
                        حفظ كورد يومي
                    </button>
                </div>
            </div>
            
            <!-- خطة الورد القرآني -->
            <div class="plan-section">
                <h2 style="color: var(--secondary); margin-bottom: 25px; font-size: 1.8rem;">
                    خطة القراءة اليومية
                </h2>
                
                <div class="plan-form">
                    <div class="plan-input">
                        <label class="input-label">عدد الأجزاء المراد قراءتها:</label>
                        <input type="number" class="input-box" id="totalParts" min="1" max="30" value="30" placeholder="30">
                    </div>
                    
                    <div class="plan-input">
                        <label class="input-label">عدد الأيام لإكمالها:</label>
                        <input type="number" class="input-box" id="totalDays" min="1" max="365" value="30" placeholder="30">
                    </div>
                    
                    <div class="plan-input">
                        <label class="input-label">بدء الخطة من:</label>
                        <input type="date" class="input-box" id="startDate" value="">
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="quran-btn" onclick="generateReadingPlan()">
                        <i class="fas fa-calendar-alt"></i>
                        إنشاء خطة القراءة
                    </button>
                </div>
                
                <div class="plan-display" id="readingPlan">
                    <div class="plan-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="dailyPages">0</div>
                            <div class="stat-label">صفحة يومياً</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="dailyParts">0</div>
                            <div class="stat-label">جزء يومياً</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalPages">0</div>
                            <div class="stat-label">إجمالي الصفحات</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="endDate">--</div>
                            <div class="stat-label">تاريخ الانتهاء</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; text-align: center;">
                        <h3 style="color: var(--primary); margin-bottom: 15px;">الورد اليومي:</h3>
                        <div style="font-size: 1.5rem; color: var(--quran-green); font-weight: 700;" id="todayReading">
                            من صفحة 1 إلى 20
                        </div>
                        <div style="font-size: 1.2rem; color: #666; margin-top: 10px;" id="todayProgress">
                            اليوم 1 من 30
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <span>تقدم الخطة:</span>
                            <span id="planProgressPercent">0%</span>
                        </div>
                        <div style="width: 100%; height: 15px; background: rgba(156, 39, 176, 0.1); border-radius: 10px; overflow: hidden;">
                            <div id="planProgressBar" style="width: 0%; height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); transition: var(--transition);"></div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="quran-btn secondary" onclick="markTodayComplete()">
                            <i class="fas fa-check-circle"></i>
                            تأشير اليوم كمكتمل
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- قسم التقدم -->
        <div id="progress" class="tab-content">
            <div class="quran-section">
                <h2 style="color: var(--secondary); margin-bottom: 25px; font-size: 1.8rem;">
                    إحصائيات وتقدمك
                </h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div style="background: rgba(156, 39, 176, 0.1); padding: 25px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--primary); font-weight: 800; margin-bottom: 10px;" id="totalAzkar">0</div>
                        <div style="font-weight: 700; color: var(--dark);">الأذكار المكتملة</div>
                    </div>
                    
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 25px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--prayer-blue); font-weight: 800; margin-bottom: 10px;" id="totalTasbeeh">0</div>
                        <div style="font-weight: 700; color: var(--dark);">التسبيحات</div>
                    </div>
                    
                    <div style="background: rgba(46, 125, 50, 0.1); padding: 25px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--quran-green); font-weight: 800; margin-bottom: 10px;" id="quranStreak">0</div>
                        <div style="font-weight: 700; color: var(--dark);">أيام متتالية</div>
                    </div>
                    
                    <div style="background: rgba(255, 152, 0, 0.1); padding: 25px; border-radius: 15px; text-align: center;">
                        <div style="font-size: 2.5rem; color: #FF9800; font-weight: 800; margin-bottom: 10px;" id="readingDays">0</div>
                        <div style="font-weight: 700; color: var(--dark);">أيام القراءة</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="quran-btn secondary" onclick="resetAllProgress()">
                        <i class="fas fa-redo"></i>
                        إعادة تعيين جميع الإحصائيات
                    </button>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- الفوتر -->
    <footer>
        <div style="max-width: 800px; margin: 0 auto;">
            <p>بسم الله الرحمن الرحيم</p>
            <p>اللهم صل على سيدنا محمد وعلى آله وصحبه وسلم</p>
            <p>سبحان الله وبحمده، سبحان الله العظيم</p>
            <p style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                مواعيد الصلاة من prayer-times-api.com | خطة الورد القرآني
            </p>
        </div>
    </footer>
    
    <script>
        // بيانات الأذكار الكاملة
        const azkarData = {
            morning: [
                { 
                    text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ: اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ ۚ لَا تَأْخُذُهُ سِنَةٌ وَلَا نَوْمٌ ۚ لَهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الْأَرْضِ ۗ مَنْ ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلَّا بِإِذْنِهِ ۚ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ ۖ وَلَا يُحِيطُونَ بِشَيْءٍ مِنْ عِلْمِهِ إِلَّا بِمَا شَاءَ ۚ وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالْأَرْضَ ۖ وَلَا يَئُودُهُ حِفْظُهُمَا ۚ وَهُوَ الْعَلِيُّ الْعَظِيمُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ: قُلْ هُوَ اللَّهُ أَحَدٌ، اللَّهُ الصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ، وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ النَّاسِ، مَلِكِ النَّاسِ، إِلَٰهِ النَّاسِ، مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ، الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ، مِنَ الْجِنَّةِ وَالنَّاسِ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ. رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذَا الْيَوْمِ وَخَيْرَ مَا بَعْدَهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذَا الْيَوْمِ وَشَرِّ مَا بَعْدَهُ، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لَا يَغْفِرُ الذُّنُوبَ إِلَّا أَنْتَ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحَدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.",
                    count: 4,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ ۖ عَلَيْهِ تَوَكَّلْتُ ۖ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.",
                    count: 7,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ: عَدَدَ خَلْقِهِ، وَرِضَا نَفْسِهِ، وَزِنَةَ عَرْشِهِ، وَمِدَادَ كَلِمَاتِهِ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ، وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالْآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي دِينِي وَدُنْيَايَ وَأَهْلِي وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي، وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَيْنِ يَدَيَّ، وَمِنْ خَلْفِي، وَعَنْ يَمِينِي، وَعَنْ شِمَالِي، وَمِنْ فَوْقِي، وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
                    count: 100,
                    current: 0
                }
            ],
            
            evening: [
                { 
                    text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيْطَانِ الرَّجِيمِ: اللَّهُ لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ... (آية الكرسي)",
                    count: 1,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ: قُلْ هُوَ اللَّهُ أَحَدٌ... (سورة الإخلاص)",
                    count: 3,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ: قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ... (سورة الفلق)",
                    count: 3,
                    current: 0
                },
                { 
                    text: "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحيمِ: قُلْ أَعُوذُ بِرَبِّ النَّاسِ... (سورة الناس)",
                    count: 3,
                    current: 0
                },
                { 
                    text: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ. رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذِهِ اللَّيْلَةِ وَخَيْرَ مَا بَعْدَهَا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذِهِ اللَّيْلَةِ وَشَرِّ مَا بَعْدَهَا، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لَا يَغْفِرُ الذُّنُوبَ إِلَّا أَنْتَ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحَدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.",
                    count: 4,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ مَا أَمْسَى بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ ۖ عَلَيْهِ تَوَكَّلْتُ ۖ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ.",
                    count: 7,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ: عَدَدَ خَلْقِهِ، وَرِضَا نَفْسِهِ، وَزِنَةَ عَرْشِهِ، وَمِدَادَ كَلِمَاتِهِ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ، وَالْفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ الْقَبْرِ، لَا إِلَهَ إِلَّا أَنْتَ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي الدُّنْيَا وَالْآخِرَةِ، اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَفْوَ وَالْعَافِيَةَ فِي دِينِي وَدُنْيَايَ وَأَهْلِي وَمَالِي، اللَّهُمَّ اسْتُرْ عَوْرَاتِي، وَآمِنْ رَوْعَاتِي، اللَّهُمَّ احْفَظْنِي مِنْ بَيْنِ يَدَيَّ، وَمِنْ خَلْفِي، وَعَنْ يَمِينِي، وَعَنْ شِمَالِي، وَمِنْ فَوْقِي، وَأَعُوذُ بِعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
                    count: 100,
                    current: 0
                }
            ],
            
            afterPrayer: [
                { 
                    text: "أَسْتَغْفِرُ اللَّهَ الْعَظِيمَ الَّذِي لَا إِلَهَ إِلَّا هُوَ الْحَيُّ الْقَيُّومُ وَأَتُوبُ إِلَيْهِ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ أَنْتَ السَّلَامُ وَمِنْكَ السَّلَامُ تَبَارَكْتَ يَا ذَا الْجَلَالِ وَالْإِكْرَامِ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.",
                    count: 10,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ يُحْيِي وَيُمِيتُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.",
                    count: 10,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ (33 مرّة)، الْحَمْدُ لِلَّهِ (33 مرّة)، اللَّهُ أَكْبَرُ (34 مرّة).",
                    count: 1,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ، سُبْحَانَ اللَّهِ الْعَظِيمِ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ الْعَلِيِّ الْعَظِيمِ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ لَا مَانِعَ لِمَا أَعْطَيْتَ، وَلَا مُعْطِيَ لِمَا مَنَعْتَ، وَلَا يَنْفَعُ ذَا الْجَدِّ مِنْكَ الْجَدُّ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ أَعِنِّي عَلَى ذِكْرِكَ وَشُكْرِكَ وَحُسْنِ عِبَادَتِكَ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ رَبِّيَ الْعَلِيِّ الْأَعْلَى الْوَهَّابِ.",
                    count: 3,
                    current: 0
                }
            ],
            
            sleep: [
                { 
                    text: "بِاسْمِكَ اللَّهُمَّ أَمُوتُ وَأَحْيَا.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "الْحَمْدُ لِلَّهِ الَّذِي أَطْعَمَنَا وَسَقَانَا، وَكَفَانَا، وَآوَانَا، فَكَمْ مِمَّنْ لَا كَافِيَ لَهُ وَلَا مُؤْوِي.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ أَسْلَمْتُ نَفْسِي إِلَيْكَ، وَفَوَّضْتُ أَمْرِي إِلَيْكَ، وَوَجَّهْتُ وَجْهِي إِلَيْكَ، وَأَلْجَأْتُ ظَهْرِي إِلَيْكَ، رَغْبَةً وَرَهْبَةً إِلَيْكَ، لَا مَلْجَأَ وَلَا مَنْجَا مِنْكَ إِلَّا إِلَيْكَ، آمَنْتُ بِكِتَابِكَ الَّذِي أَنْزَلْتَ، وَبِنَبِيِّكَ الَّذِي أَرْسَلْتَ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ (33 مرّة)، الْحَمْدُ لِلَّهِ (33 مرّة)، اللَّهُ أَكْبَرُ (34 مرّة).",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ رَبَّ السَّمَاوَاتِ وَرَبَّ الْأَرْضِ وَرَبَّ الْعَرْشِ الْعَظِيمِ، رَبَّنَا وَرَبَّ كُلِّ شَيْءٍ، فَالِقَ الْحَبِّ وَالنَّوَى، وَمُنْزِلَ التَّوْرَاةِ وَالْإِنْجِيلِ وَالْفُرْقَانِ، أَعُوذُ بِكَ مِنْ شَرِّ كُلِّ شَيْءٍ أَنْتَ آخِذٌ بِنَاصِيَتِهِ، اللَّهُمَّ أَنْتَ الْأَوَّلُ فَلَيْسَ قَبْلَكَ شَيْءٌ، وَأَنْتَ الْآخِرُ فَلَيْسَ بَعْدَكَ شَيْءٌ، وَأَنْتَ الظَّاهِرُ فَلَيْسَ فَوْقَكَ شَيْءٌ، وَأَنْتَ الْبَاطِنُ فَلَيْسَ دُونَكَ شَيْءٌ، اقْضِ عَنَّا الدَّيْنَ وَأَغْنِنَا مِنَ الْفَقْرِ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ عَالِمَ الْغَيْبِ وَالشَّهَادَةِ، فَاطِرَ السَّمَاوَاتِ وَالْأَرْضِ، رَبَّ كُلِّ شَيْءٍ وَمَلِيكَهُ، أَشْهَدُ أَنْ لَا إِلَهَ إِلَّا أَنْتَ، أَعُوذُ بِكَ مِنْ شَرِّ نَفْسِي، وَمِنْ شَرِّ الشَّيْطَانِ وَشِرْكِهِ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "آمَنَ الرَّسُولُ بِمَا أُنْزِلَ إِلَيْهِ مِنْ رَبِّهِ وَالْمُؤْمِنُونَ ۚ كُلٌّ آمَنَ بِاللَّهِ وَمَلَائِكَتِهِ وَكُتُبِهِ وَرُسُلِهِ لَا نُفَرِّقُ بَيْنَ أَحَدٍ مِنْ رُسُلِهِ ۚ وَقَالُوا سَمِعْنَا وَأَطَعْنَا ۖ غُفْرَانَكَ رَبَّنَا وَإِلَيْكَ الْمَصِيرُ.",
                    count: 1,
                    current: 0
                }
            ],
            
            general: [
                { 
                    text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ الْعَظِيمِ وَبِحَمْدِهِ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "لَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ صَلِّ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ كَمَا صَلَّيْتَ عَلَى إِبْرَاهِيمَ وَعَلَى آلِ إِبْرَاهِيمَ إِنَّكَ حَمِيدٌ مَجِيدٌ، اللَّهُمَّ بَارِكْ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ كَمَا بَارَكْتَ عَلَى إِبْرَاهِيمَ وَعَلَى آلِ إِبْرَاهِيمَ إِنَّكَ حَمِيدٌ مَجِيدٌ.",
                    count: 10,
                    current: 0
                },
                { 
                    text: "أَسْتَغْفِرُ اللَّهَ الْعَظِيمَ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "سُبْحَانَ اللَّهِ وَالْحَمْدُ لِلَّهِ وَلَا إِلَهَ إِلَّا اللَّهُ وَاللَّهُ أَكْبَرُ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْمًا نَافِعًا، وَرِزْقًا طَيِّبًا، وَعَمَلًا مُتَقَبَّلًا.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً وَفِي الْآخِرَةِ حَسَنَةً وَقِنَا عَذَابَ النَّارِ.",
                    count: 100,
                    current: 0
                },
                { 
                    text: "حَسْبِيَ اللَّهُ وَنِعْمَ الْوَكِيلُ",
                    count: 100,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ وَالْحَزَنِ، وَالْعَجْزِ وَالْكَسَلِ، وَالْجُبْنِ وَالْبُخْلِ، وَضَلَعِ الدَّيْنِ وَغَلَبَةِ الرِّجَالِ.",
                    count: 3,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ اغْفِرْ لِي وَارْحَمْنِي وَعَافِنِي وَاهْدِنِي وَارْزُقْنِي.",
                    count: 100,
                    current: 0
                }
            ],
            
            wakeup: [
                { 
                    text: "الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ، وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ الْعَلِيِّ الْعَظِيمِ، رَبِّ اغْفِرْ لِي.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "أَصْبَحْنَا عَلَى فِطْرَةِ الْإِسْلَامِ، وَعَلَى كَلِمَةِ الْإِخْلَاصِ، وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ، وَعَلَى مِلَّةِ أَبِينَا إِبْرَاهِيمَ حَنِيفًا مُسْلِمًا وَمَا كَانَ مِنَ الْمُشْرِكِينَ.",
                    count: 1,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ وَحَدَكَ لَا شَرِيكَ لَكَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ.",
                    count: 4,
                    current: 0
                },
                { 
                    text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لَا شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ.",
                    count: 1,
                    current: 0
                }
            ]
        };
        
        const tasbeehData = [
            { title: "سبحان الله", count: 0 },
            { title: "الحمد لله", count: 0 },
            { title: "الله أكبر", count: 0 },
            { title: "لا إله إلا الله", count: 0 },
            { title: "أستغفر الله", count: 0 },
            { title: "سبحان الله وبحمده", count: 0 }
        ];
        
        // متغيرات النظام
        let currentCategory = null;
        let userCity = "القاهرة";
        let userCountry = "مصر";
        let readingPlan = null;
        
        // تحميل البيانات
        function loadData() {
            // تحميل التسبيح
            const savedTasbeeh = localStorage.getItem('tasbeehCounters');
            if (savedTasbeeh) {
                const counters = JSON.parse(savedTasbeeh);
                tasbeehData.forEach((item, index) => {
                    if (counters[index] !== undefined) {
                        item.count = counters[index];
                    }
                });
            }
            
            // تحميل الأذكار
            const savedAzkar = localStorage.getItem('azkarProgress');
            if (savedAzkar) {
                const progress = JSON.parse(savedAzkar);
                for (const category in azkarData) {
                    if (progress[category]) {
                        azkarData[category].forEach((azkar, index) => {
                            if (progress[category][index] !== undefined) {
                                azkar.current = progress[category][index];
                            }
                        });
                    }
                }
            }
            
            // تحميل خطة القراءة
            const savedPlan = localStorage.getItem('readingPlan');
            if (savedPlan) {
                readingPlan = JSON.parse(savedPlan);
            }
            
            // تحميل المدينة
            const savedCity = localStorage.getItem('prayerCity');
            if (savedCity) {
                userCity = savedCity;
            }
            
            updateStats();
        }
        
        // حفظ البيانات
        function saveTasbeeh() {
            const counters = tasbeehData.map(item => item.count);
            localStorage.setItem('tasbeehCounters', JSON.stringify(counters));
        }
        
        function saveAzkar() {
            const progress = {};
            for (const category in azkarData) {
                progress[category] = azkarData[category].map(azkar => azkar.current || 0);
            }
            localStorage.setItem('azkarProgress', JSON.stringify(progress));
        }
        
        function saveReadingPlan() {
            if (readingPlan) {
                localStorage.setItem('readingPlan', JSON.stringify(readingPlan));
            }
        }
        
        // تحديث الإحصائيات
        function updateStats() {
            // الأذكار المكتملة
            let completedAzkar = 0;
            for (const category in azkarData) {
                azkarData[category].forEach(azkar => {
                    if (azkar.current >= azkar.count) completedAzkar++;
                });
            }
            document.getElementById('totalAzkar').textContent = completedAzkar;
            
            // التسبيحات
            const totalTasbeeh = tasbeehData.reduce((sum, item) => sum + item.count, 0);
            document.getElementById('totalTasbeeh').textContent = totalTasbeeh;
            
            // أيام القراءة
            let readingDays = 0;
            if (readingPlan && readingPlan.completedDays) {
                readingDays = readingPlan.completedDays.length;
            }
            document.getElementById('readingDays').textContent = readingDays;
            
            // تحديث خطة القراءة إذا كانت موجودة
            if (readingPlan) {
                updateReadingPlanDisplay();
            }
        }
        
        // API مواعيد الصلاة
        async function getPrayerTimes() {
            try {
                // استخدام API مجاني لمواعيد الصلاة
                const today = new Date();
                const dateString = `${today.getFullYear()}-${(today.getMonth()+1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;
                
                // يمكن استخدام API مثل Aladhan أو prayer-times-api
                const response = await fetch(`https://api.aladhan.com/v1/timingsByCity/${dateString}?city=${encodeURIComponent(userCity)}&country=${encodeURIComponent(userCountry)}&method=5`);
                const data = await response.json();
                
                if (data.code === 200) {
                    const timings = data.data.timings;
                    const prayers = [
                        { name: "الفجر", time: timings.Fajr },
                        { name: "الشروق", time: timings.Sunrise },
                        { name: "الظهر", time: timings.Dhuhr },
                        { name: "العصر", time: timings.Asr },
                        { name: "المغرب", time: timings.Maghrib },
                        { name: "العشاء", time: timings.Isha }
                    ];
                    
                    return prayers;
                } else {
                    throw new Error('لم نتمكن من جلب مواعيد الصلاة');
                }
            } catch (error) {
                console.error('خطأ في جلب مواعيد الصلاة:', error);
                // استخدام مواعيد افتراضية في حالة الخطأ
                return [
                    { name: "الفجر", time: "04:30" },
                    { name: "الشروق", time: "06:00" },
                    { name: "الظهر", time: "12:30" },
                    { name: "العصر", time: "15:45" },
                    { name: "المغرب", time: "18:20" },
                    { name: "العشاء", time: "19:45" }
                ];
            }
        }
        
        // عرض مواعيد الصلاة
        async function renderPrayerTimes() {
            const container = document.getElementById('prayerTimes');
            container.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 20px;">جاري تحميل مواعيد الصلاة...</div>';
            
            const prayers = await getPrayerTimes();
            
            // تحديد الصلاة الحالية
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTime = currentHour * 60 + currentMinute;
            
            container.innerHTML = '';
            
            // إضافة زر لتحديث المدينة
            const cityElement = document.createElement('div');
            cityElement.style.gridColumn = '1 / -1';
            cityElement.style.textAlign = 'center';
            cityElement.style.marginBottom = '15px';
            cityElement.innerHTML = `
                <div style="display: inline-flex; gap: 10px; align-items: center;">
                    <span>${userCity}, ${userCountry}</span>
                    <button onclick="changeCity()" style="background: var(--primary); color: white; border: none; border-radius: 10px; padding: 5px 10px; cursor: pointer;">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button onclick="refreshPrayerTimes()" style="background: var(--prayer-blue); color: white; border: none; border-radius: 10px; padding: 5px 10px; cursor: pointer;">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
            `;
            container.appendChild(cityElement);
            
            prayers.forEach((prayer, index) => {
                const [hours, minutes] = prayer.time.split(':').map(Number);
                const prayerTime = hours * 60 + minutes;
                let isCurrent = false;
                
                // تحديد إذا كانت هذه الصلاة هي الحالية
                if (index < prayers.length - 1) {
                    const nextPrayerTime = prayers[index + 1].time.split(':').map(Number)[0] * 60 + 
                                          prayers[index + 1].time.split(':').map(Number)[1];
                    isCurrent = currentTime >= prayerTime && currentTime < nextPrayerTime;
                } else {
                    // آخر صلاة (العشاء) تستمر حتى الفجر
                    const fajrTime = prayers[0].time.split(':').map(Number)[0] * 60 + 
                                    prayers[0].time.split(':').map(Number)[1];
                    isCurrent = currentTime >= prayerTime || currentTime < fajrTime;
                }
                
                const prayerElement = document.createElement('div');
                prayerElement.className = `prayer-time ${isCurrent ? 'current' : ''}`;
                prayerElement.innerHTML = `
                    <div class="prayer-name">${prayer.name}</div>
                    <div class="prayer-hour">${prayer.time}</div>
                    ${isCurrent ? '<div style="font-size:0.8rem; margin-top:5px;">الآن</div>' : ''}
                `;
                
                container.appendChild(prayerElement);
            });
        }
        
        // تغيير المدينة
        function changeCity() {
            const newCity = prompt('أدخل اسم مدينتك:', userCity);
            if (newCity && newCity.trim() !== '') {
                userCity = newCity.trim();
                localStorage.setItem('prayerCity', userCity);
                renderPrayerTimes();
            }
        }
        
        // تحديث مواعيد الصلاة
        function refreshPrayerTimes() {
            renderPrayerTimes();
        }
        
        // خطة القراءة
        function generateReadingPlan() {
            const totalParts = parseInt(document.getElementById('totalParts').value) || 30;
            const totalDays = parseInt(document.getElementById('totalDays').value) || 30;
            
            // تاريخ البدء
            let startDate = document.getElementById('startDate').value;
            if (!startDate) {
                const today = new Date();
                startDate = today.toISOString().split('T')[0];
                document.getElementById('startDate').value = startDate;
            }
            
            // حساب الصفحات اليومية
            const totalPages = totalParts * 20; // كل جزء = 20 صفحة
            const dailyPages = Math.ceil(totalPages / totalDays);
            const dailyParts = Math.ceil(totalParts / totalDays);
            
            // إنشاء خطة القراءة
            readingPlan = {
                totalParts: totalParts,
                totalPages: totalPages,
                totalDays: totalDays,
                dailyPages: dailyPages,
                dailyParts: dailyParts,
                startDate: startDate,
                completedDays: [],
                currentDay: 1
            };
            
            // حساب تاريخ الانتهاء
            const endDate = new Date(startDate);
            endDate.setDate(endDate.getDate() + totalDays - 1);
            readingPlan.endDate = endDate.toISOString().split('T')[0];
            
            saveReadingPlan();
            updateReadingPlanDisplay();
            document.getElementById('readingPlan').style.display = 'block';
        }
        
        // تحديث عرض خطة القراءة
        function updateReadingPlanDisplay() {
            if (!readingPlan) return;
            
            const today = new Date().toISOString().split('T')[0];
            const startDate = new Date(readingPlan.startDate);
            const currentDate = new Date();
            
            // حساب اليوم الحالي في الخطة
            let currentDay = Math.floor((currentDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
            if (currentDay < 1) currentDay = 1;
            if (currentDay > readingPlan.totalDays) currentDay = readingPlan.totalDays;
            
            readingPlan.currentDay = currentDay;
            
            // حساب الصفحات لهذا اليوم
            const startPage = (currentDay - 1) * readingPlan.dailyPages + 1;
            let endPage = startPage + readingPlan.dailyPages - 1;
            if (endPage > readingPlan.totalPages) endPage = readingPlan.totalPages;
            
            // حساب النسبة المئوية للتقدم
            let progressPercent = 0;
            if (readingPlan.completedDays && readingPlan.completedDays.length > 0) {
                progressPercent = Math.floor((readingPlan.completedDays.length / readingPlan.totalDays) * 100);
            } else {
                progressPercent = Math.floor(((currentDay - 1) / readingPlan.totalDays) * 100);
            }
            
            // حساب تاريخ الانتهاء
            const endDate = new Date(readingPlan.startDate);
            endDate.setDate(endDate.getDate() + readingPlan.totalDays - 1);
            
            // تحديث واجهة المستخدم
            document.getElementById('dailyPages').textContent = readingPlan.dailyPages;
            document.getElementById('dailyParts').textContent = readingPlan.dailyParts.toFixed(1);
            document.getElementById('totalPages').textContent = readingPlan.totalPages;
            document.getElementById('endDate').textContent = formatDate(endDate);
            document.getElementById('todayReading').textContent = `من صفحة ${startPage} إلى ${endPage}`;
            document.getElementById('todayProgress').textContent = `اليوم ${currentDay} من ${readingPlan.totalDays}`;
            document.getElementById('planProgressPercent').textContent = `${progressPercent}%`;
            document.getElementById('planProgressBar').style.width = `${progressPercent}%`;
            
            // إظهار قسم خطة القراءة
            document.getElementById('readingPlan').style.display = 'block';
        }
        
        // تأشير اليوم كمكتمل
        function markTodayComplete() {
            if (!readingPlan) {
                alert('يرجى إنشاء خطة قراءة أولاً');
                return;
            }
            
            const today = new Date().toISOString().split('T')[0];
            
            if (!readingPlan.completedDays) {
                readingPlan.completedDays = [];
            }
            
            if (!readingPlan.completedDays.includes(today)) {
                readingPlan.completedDays.push(today);
                saveReadingPlan();
                updateStats();
                updateReadingPlanDisplay();
                
                alert('تم تأشير اليوم كمكتمل! بارك الله فيك.');
            } else {
                alert('اليوم مؤشر كمكتمل مسبقاً.');
            }
        }
        
        // تنسيق التاريخ
        function formatDate(date) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('ar-EG', options);
        }
        
        // فتح قسم الأذكار
        function openAzkar(category) {
            currentCategory = category;
            
            // إخفاء الأقسام وإظهار عرض الأذكار
            document.getElementById('categories').style.display = 'none';
            document.getElementById('azkarDisplay').style.display = 'block';
            
            // تحديث العنوان
            const titles = {
                'morning': 'أذكار الصباح',
                'evening': 'أذكار المساء',
                'afterPrayer': 'أذكار بعد الصلاة',
                'sleep': 'أذكار النوم',
                'general': 'أذكار عامة',
                'wakeup': 'أذكار الاستيقاظ'
            };
            
            document.getElementById('displayTitle').textContent = titles[category] || category;
            
            // عرض الأذكار
            renderAzkarList();
        }
        
        // إغلاق عرض الأذكار
        function closeAzkarDisplay() {
            document.getElementById('azkarDisplay').style.display = 'none';
            document.getElementById('categories').style.display = 'block';
            updateStats();
        }
        
        // عرض قائمة الأذكار
        function renderAzkarList() {
            const container = document.getElementById('azkarList');
            container.innerHTML = '';
            
            const azkar = azkarData[currentCategory] || [];
            
            azkar.forEach((azkar, index) => {
                const isCompleted = azkar.current >= azkar.count;
                
                const zekrElement = document.createElement('div');
                zekrElement.className = 'zekr-item';
                zekrElement.innerHTML = `
                    <div class="zekr-text">${azkar.text}</div>
                    <div class="zekr-info">
                        <div class="zekr-count">${azkar.current}/${azkar.count}</div>
                        <button class="zekr-btn ${isCompleted ? 'completed' : ''}" 
                                onclick="completeZekr(${index})" 
                                ${isCompleted ? 'disabled' : ''}>
                            <i class="fas fa-check"></i>
                            ${isCompleted ? 'مكتمل' : 'إكمال'}
                        </button>
                    </div>
                `;
                
                container.appendChild(zekrElement);
            });
        }
        
        // إكمال ذكر
        function completeZekr(index) {
            const azkar = azkarData[currentCategory][index];
            
            if (azkar.current < azkar.count) {
                azkar.current = azkar.count;
                saveAzkar();
                renderAzkarList();
                updateStats();
            }
        }
        
        // عرض التسبيح
        function renderTasbeeh() {
            const container = document.getElementById('tasbeehContainer');
            container.innerHTML = '';
            
            tasbeehData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'tasbeeh-card';
                card.innerHTML = `
                    <div class="tasbeeh-title">${item.title}</div>
                    <div class="tasbeeh-counter">${item.count}</div>
                    <div class="tasbeeh-actions">
                        <button class="tasbeeh-btn reset" onclick="resetTasbeeh(${index})">
                            <i class="fas fa-redo"></i>
                        </button>
                        <button class="tasbeeh-btn" onclick="addTasbeeh(${index})">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        // إضافة تسبيحة
        function addTasbeeh(index) {
            tasbeehData[index].count++;
            renderTasbeeh();
            saveTasbeeh();
            updateStats();
        }
        
        // تصفير تسبيحة
        function resetTasbeeh(index) {
            tasbeehData[index].count = 0;
            renderTasbeeh();
            saveTasbeeh();
            updateStats();
        }
        
        // تصفير جميع العدادات
        function resetAllTasbeeh() {
            if (confirm('هل تريد تصفير جميع عدادات التسبيح؟')) {
                tasbeehData.forEach(item => item.count = 0);
                renderTasbeeh();
                saveTasbeeh();
                updateStats();
            }
        }
        
        // القرآن الكريم
        function selectPart() {
            const partSelect = document.getElementById('partSelect');
            const partNumber = parseInt(partSelect.value);
            const fromPage = (partNumber - 1) * 20 + 1;
            const toPage = partNumber * 20;
            
            document.getElementById('fromPage').value = fromPage;
            document.getElementById('toPage').value = toPage;
            updateSelection();
        }
        
        function updateSelection() {
            const fromPage = parseInt(document.getElementById('fromPage').value);
            const toPage = parseInt(document.getElementById('toPage').value);
            const pagesCount = toPage - fromPage + 1;
            
            document.getElementById('selectionInfo').textContent = 
                `من صفحة ${fromPage} إلى ${toPage} (${pagesCount} صفحة)`;
        }
        
        function openQuranWebsite() {
            const fromPage = document.getElementById('fromPage').value;
            const tanzilUrl = `https://tanzil.net/#${fromPage}:1`;
            window.open(tanzilUrl, '_blank');
        }
        
        function saveDailyWird() {
            const fromPage = document.getElementById('fromPage').value;
            const toPage = document.getElementById('toPage').value;
            alert(`تم حفظ وردك اليومي: من صفحة ${fromPage} إلى ${toPage}`);
        }
        
        // إعادة تعيين جميع الإحصائيات
        function resetAllProgress() {
            if (confirm('هل تريد إعادة تعيين جميع الإحصائيات والتقدم؟')) {
                // إعادة تعيين الأذكار
                for (const category in azkarData) {
                    azkarData[category].forEach(azkar => {
                        azkar.current = 0;
                    });
                }
                saveAzkar();
                
                // إعادة تعيين التسبيح
                tasbeehData.forEach(item => item.count = 0);
                saveTasbeeh();
                
                // إعادة تعيين خطة القراءة
                readingPlan = null;
                localStorage.removeItem('readingPlan');
                
                // تحديث الواجهة
                renderAzkarList();
                renderTasbeeh();
                updateStats();
                
                // إخفاء خطة القراءة
                document.getElementById('readingPlan').style.display = 'none';
                
                alert('تم إعادة تعيين جميع الإحصائيات');
            }
        }
        
        // التبويبات
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
                tab.style.display = 'none';
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            document.getElementById(tabName).style.display = 'block';
            
            // إغلاق عرض الأذكار إذا كان مفتوحاً
            if (tabName !== 'categories' && currentCategory) {
                closeAzkarDisplay();
                currentCategory = null;
            }
            
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.textContent.includes(getTabName(tabName))) {
                    tab.classList.add('active');
                }
            });
            
            // إذا كان تبويب القرآن، تحديث خطة القراءة
            if (tabName === 'quran' && readingPlan) {
                updateReadingPlanDisplay();
            }
        }
        
        function getTabName(tabId) {
            const names = {
                'categories': 'الأقسام',
                'tasbeeh': 'التسبيح',
                'quran': 'القرآن الكريم',
                'progress': 'تقدمي'
            };
            return names[tabId] || tabId;
        }
        
        // تهيئة الموقع
        async function init() {
            loadData();
            await renderPrayerTimes();
            renderTasbeeh();
            updateSelection();
            
            // تعيين تاريخ اليوم كتاريخ افتراضي للبداية
            const today = new Date();
            const todayString = today.toISOString().split('T')[0];
            document.getElementById('startDate').value = todayString;
            
            // تحديث خطة القراءة إذا كانت موجودة
            if (readingPlan) {
                updateReadingPlanDisplay();
            }
        }
        
        // بدء التشغيل
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
